<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE article PUBLIC "-//NLM//DTD JATS (Z39.96) Journal Archiving
and Interchange DTD v1.2 20190208//EN" "JATS-archivearticle1.dtd">
<article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="1.2" article-type="other">
  <front>
    <journal-meta>
      <journal-id/>
      <journal-title-group>
        <journal-title>Earth and Space Science</journal-title>
      </journal-title-group>
      <issn/>
      <publisher>
        <publisher-name/>
      </publisher>
    </journal-meta>
    <article-meta>
      <title-group>
        <article-title>Lecture Data Science for Electron
Microscopy</article-title>
      </title-group>
      <contrib-group>
        <contrib contrib-type="author" corresp="yes">
          <contrib-id contrib-id-type="orcid">0000-0002-8009-4515</contrib-id>
          <name>
            <surname>Pelz</surname>
            <given-names>Philipp</given-names>
          </name>
          <string-name>Philipp Pelz</string-name>
          <email>philipp.pelz@fau.de</email>
          <role vocab="https://credit.niso.org" vocab-term="investigation" vocab-term-identifier="https://credit.niso.org/contributor-roles/investigation/">Investigation</role>
          <role vocab="https://credit.niso.org" vocab-term="project administration" vocab-term-identifier="https://credit.niso.org/contributor-roles/project-administration/">Project
administration</role>
          <role vocab="https://credit.niso.org" vocab-term="software" vocab-term-identifier="https://credit.niso.org/contributor-roles/software/">Software</role>
          <role vocab="https://credit.niso.org" vocab-term="visualization" vocab-term-identifier="https://credit.niso.org/contributor-roles/visualization/">Visualization</role>
          <xref ref-type="aff" rid="aff-1">a</xref>
          <xref ref-type="corresp" rid="cor-1">*</xref>
        </contrib>
      </contrib-group>
      <aff id="aff-1">
        <institution-wrap>
          <institution>FAU Erlangen-Nuernberg</institution>
        </institution-wrap>
      </aff>
      <author-notes>
        <corresp id="cor-1">philipp.pelz@fau.de</corresp>
      </author-notes>
      <pub-date date-type="pub" publication-format="electronic" iso-8601-date="2024-11-01">
        <year>2024</year>
        <month>11</month>
        <day>1</day>
      </pub-date>
      <history/>
      <abstract>
        <p>This is the website for the Data Science for Electron Microscopy
Lecture</p>
      </abstract>
      <kwd-group kwd-group-type="author">
        <kwd>Data Science</kwd>
        <kwd>Electron Microscopy</kwd>
      </kwd-group>
    </article-meta>
  </front>
  <body>
    <sec id="lecture-1-intro">
      <title>1 Lecture 1: Intro</title>
    </sec>
    <sec id="sec-lecture2">
      <title>2 Lecture 2</title>
    </sec>
    <sec id="sec-lecture3">
      <title>3 Lecture 3</title>
    </sec>
    <sec id="sec-lecture4">
      <title>4 Lecture 4</title>
    </sec>
    <sec id="sec-lecture5">
      <title>5 Lecture 5</title>
    </sec>
    <sec id="sec-lecture6">
      <title>6 Lecture 6</title>
    </sec>
    <sec id="sec-lecture7">
      <title>7 Lecture 7</title>
    </sec>
    <sec id="sec-lecture8">
      <title>8 Lecture 8</title>
    </sec>
    <sec id="references">
      <title>References</title>
    </sec>
  </body>
  <back>
</back>
  <sub-article article-type="notebook" id="nb-5-nb-article">
    <front-stub>
      <title-group>
        <article-title>Lecture Data Science for Electron
Microscopy</article-title>
      </title-group>
      <contrib-group>
        <contrib contrib-type="author" corresp="yes">
          <contrib-id contrib-id-type="orcid">0000-0002-8009-4515</contrib-id>
          <name>
            <surname>Pelz</surname>
            <given-names>Philipp</given-names>
          </name>
          <string-name>Philipp Pelz</string-name>
          <email>philipp.pelz@fau.de</email>
          <role vocab="https://credit.niso.org" vocab-term="investigation" vocab-term-identifier="https://credit.niso.org/contributor-roles/investigation/">Investigation</role>
          <role vocab="https://credit.niso.org" vocab-term="project administration" vocab-term-identifier="https://credit.niso.org/contributor-roles/project-administration/">Project
administration</role>
          <role vocab="https://credit.niso.org" vocab-term="software" vocab-term-identifier="https://credit.niso.org/contributor-roles/software/">Software</role>
          <role vocab="https://credit.niso.org" vocab-term="visualization" vocab-term-identifier="https://credit.niso.org/contributor-roles/visualization/">Visualization</role>
          <xref ref-type="aff" rid="aff-1-nb-article">a</xref>
          <xref ref-type="corresp" rid="cor-1-nb-article">*</xref>
        </contrib>
      </contrib-group>
      <aff id="aff-1-nb-article">
        <institution-wrap>
          <institution>FAU Erlangen-Nuernberg</institution>
        </institution-wrap>
      </aff>
      <author-notes>
        <corresp id="cor-1-nb-article">philipp.pelz@fau.de</corresp>
      </author-notes>
      <abstract>
        <p>This is the website for the Data Science for Electron Microscopy
Lecture</p>
      </abstract>
    </front-stub>
    <body>
      <sec id="lecture-1-intro-nb-article">
        <title>1 Lecture 1: Intro</title>
        <sec id="cell-4ff1d12e-nb-article" specific-use="notebook-content">
          <code language="python">import matplotlib.pyplot as plt
import numpy as np
eruptions = [1492, 1585, 1646, 1677, 1712, 1949, 1971, 2021]</code>
        </sec>
        <sec id="f22fd411-nb-article" specific-use="notebook-content">
</sec>
        <sec id="sec-lecture2-nb-article">
          <title>2 Lecture 2</title>
        </sec>
        <sec id="sec-lecture3-nb-article">
          <title>3 Lecture 3</title>
        </sec>
        <sec id="sec-lecture4-nb-article">
          <title>4 Lecture 4</title>
        </sec>
        <sec id="sec-lecture5-nb-article">
          <title>5 Lecture 5</title>
        </sec>
        <sec id="sec-lecture6-nb-article">
          <title>6 Lecture 6</title>
        </sec>
        <sec id="sec-lecture7-nb-article">
          <title>7 Lecture 7</title>
        </sec>
        <sec id="sec-lecture8-nb-article">
          <title>8 Lecture 8</title>
        </sec>
        <sec id="references-nb-article">
          <title>References</title>
        </sec>
      </sec>
    </body>
    <back>
</back>
  </sub-article>
  <sub-article article-type="notebook" id="nb-3-nb-1">
    <front-stub>
      <title-group>
        <article-title>Data Screening</article-title>
      </title-group>
      <contrib-group>
        <contrib contrib-type="author">
          <contrib-id contrib-id-type="orcid">0000-0002-0760-5497</contrib-id>
          <name>
            <surname>Purves</surname>
            <given-names>Steve</given-names>
          </name>
          <string-name>Steve Purves</string-name>
        </contrib>
        <contrib contrib-type="author">
          <name>
            <surname>Wickham</surname>
            <given-names>Charlotte</given-names>
          </name>
          <string-name>Charlotte Wickham</string-name>
          <xref ref-type="author-note" rid="auth-note-2-nb-1">2</xref>
        </contrib>
      </contrib-group>
      <author-notes>
        <fn id="auth-note-2-nb-1" fn-type="author-note" symbol="2">Edited original
notebook by Steve Purves</fn>
      </author-notes>
    </front-stub>
    <body>
      <sec id="cell-25276572-nb-1" specific-use="notebook-content">
        <preformat>import pandas as pd
import matplotlib.pyplot as plt</preformat>
      </sec>
      <sec id="cell-7f05db89-nb-1" specific-use="notebook-content">
        <p>Import <monospace>la-palma.csv</monospace> - a clean subset of
<ext-link ext-link-type="uri" xlink:href="https://github.com/Notebooks-Now/submission-quarto-full/blob/main/data/catalogoComunSV_1663233588717.csv"><monospace>catalogoComunSV_1663233588717.csv</monospace></ext-link>:</p>
      </sec>
      <sec id="da2659e5-nb-1" specific-use="notebook-content">
        <preformat>df = pd.read_csv('la-palma.csv')
df['DateTime'] = pd.to_datetime(df['DateTime'])
df = df.sort_values(by=['DateTime'], ascending=True)
df.head()</preformat>
        <boxed-text>
          <table-wrap>
            <table border="1">
              <thead>
                <tr style="text-align: right;">
                  <th/>
                  <th>Longitude</th>
                  <th>Latitude</th>
                  <th>Depth(km)</th>
                  <th>Magnitude</th>
                  <th>DateTime</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>11346</td>
                  <td>-17.8349</td>
                  <td>28.5346</td>
                  <td>26.0</td>
                  <td>1.6</td>
                  <td>2017-03-09 23:44:06+00:00</td>
                </tr>
                <tr>
                  <td>11343</td>
                  <td>-17.8459</td>
                  <td>28.5491</td>
                  <td>27.0</td>
                  <td>2.0</td>
                  <td>2017-03-10 00:16:10+00:00</td>
                </tr>
                <tr>
                  <td>11344</td>
                  <td>-17.8863</td>
                  <td>28.5008</td>
                  <td>20.0</td>
                  <td>2.1</td>
                  <td>2017-03-10 00:16:11+00:00</td>
                </tr>
                <tr>
                  <td>11345</td>
                  <td>-17.8657</td>
                  <td>28.5204</td>
                  <td>30.0</td>
                  <td>1.6</td>
                  <td>2017-03-10 03:20:26+00:00</td>
                </tr>
                <tr>
                  <td>11342</td>
                  <td>-17.7156</td>
                  <td>28.5985</td>
                  <td>0.0</td>
                  <td>1.6</td>
                  <td>2017-08-21 02:06:55+00:00</td>
                </tr>
              </tbody>
            </table>
          </table-wrap>
        </boxed-text>
      </sec>
      <sec id="ae1253df-nb-1" specific-use="notebook-content">
        <preformat>df.describe()</preformat>
        <boxed-text>
          <table-wrap>
            <table border="1">
              <thead>
                <tr style="text-align: right;">
                  <th/>
                  <th>Longitude</th>
                  <th>Latitude</th>
                  <th>Depth(km)</th>
                  <th>Magnitude</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>count</td>
                  <td>11347.000000</td>
                  <td>11347.000000</td>
                  <td>11347.000000</td>
                  <td>11347.000000</td>
                </tr>
                <tr>
                  <td>mean</td>
                  <td>-17.844062</td>
                  <td>28.568893</td>
                  <td>14.089345</td>
                  <td>2.432423</td>
                </tr>
                <tr>
                  <td>std</td>
                  <td>0.027345</td>
                  <td>0.021899</td>
                  <td>8.624787</td>
                  <td>0.705282</td>
                </tr>
                <tr>
                  <td>min</td>
                  <td>-17.995800</td>
                  <td>28.310200</td>
                  <td>0.000000</td>
                  <td>0.200000</td>
                </tr>
                <tr>
                  <td>25%</td>
                  <td>-17.854100</td>
                  <td>28.558000</td>
                  <td>10.100000</td>
                  <td>1.900000</td>
                </tr>
                <tr>
                  <td>50%</td>
                  <td>-17.838700</td>
                  <td>28.564000</td>
                  <td>11.300000</td>
                  <td>2.600000</td>
                </tr>
                <tr>
                  <td>75%</td>
                  <td>-17.829700</td>
                  <td>28.574300</td>
                  <td>13.900000</td>
                  <td>2.900000</td>
                </tr>
                <tr>
                  <td>max</td>
                  <td>-17.705700</td>
                  <td>28.697800</td>
                  <td>46.900000</td>
                  <td>5.100000</td>
                </tr>
              </tbody>
            </table>
          </table-wrap>
        </boxed-text>
      </sec>
      <sec id="cell-81b4dfb2-nb-1" specific-use="notebook-content">
        <preformat>df.plot.scatter(x="Longitude", y="Latitude", figsize=(12,12), grid="on");</preformat>
        <boxed-text>
          <graphic mimetype="image" mime-subtype="png" xlink:href="data-screening_files/figure-jats/cell-5-output-1.png"/>
        </boxed-text>
      </sec>
      <sec id="cell-19a1ba0d-nb-1" specific-use="notebook-content">
        <sec id="filter-nb-1">
          <title>Filter</title>
          <p>Also some rows seem to be missing depth measurements, (see
  differences in the <bold>count</bold> for columns above) - take only
  rows with valid depths</p>
        </sec>
        <sec id="e56a69b3-nb-1" specific-use="notebook-content">
          <preformat>df = df[df['Depth(km)'].notna()]
df.describe()</preformat>
          <boxed-text>
            <table-wrap>
              <table border="1">
                <thead>
                  <tr style="text-align: right;">
                    <th/>
                    <th>Longitude</th>
                    <th>Latitude</th>
                    <th>Depth(km)</th>
                    <th>Magnitude</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>count</td>
                    <td>11347.000000</td>
                    <td>11347.000000</td>
                    <td>11347.000000</td>
                    <td>11347.000000</td>
                  </tr>
                  <tr>
                    <td>mean</td>
                    <td>-17.844062</td>
                    <td>28.568893</td>
                    <td>14.089345</td>
                    <td>2.432423</td>
                  </tr>
                  <tr>
                    <td>std</td>
                    <td>0.027345</td>
                    <td>0.021899</td>
                    <td>8.624787</td>
                    <td>0.705282</td>
                  </tr>
                  <tr>
                    <td>min</td>
                    <td>-17.995800</td>
                    <td>28.310200</td>
                    <td>0.000000</td>
                    <td>0.200000</td>
                  </tr>
                  <tr>
                    <td>25%</td>
                    <td>-17.854100</td>
                    <td>28.558000</td>
                    <td>10.100000</td>
                    <td>1.900000</td>
                  </tr>
                  <tr>
                    <td>50%</td>
                    <td>-17.838700</td>
                    <td>28.564000</td>
                    <td>11.300000</td>
                    <td>2.600000</td>
                  </tr>
                  <tr>
                    <td>75%</td>
                    <td>-17.829700</td>
                    <td>28.574300</td>
                    <td>13.900000</td>
                    <td>2.900000</td>
                  </tr>
                  <tr>
                    <td>max</td>
                    <td>-17.705700</td>
                    <td>28.697800</td>
                    <td>46.900000</td>
                    <td>5.100000</td>
                  </tr>
                </tbody>
              </table>
            </table-wrap>
          </boxed-text>
        </sec>
        <sec id="cell-1368822d-nb-1" specific-use="notebook-content">
          <preformat>plt.figure(figsize=(20,6))
plt.subplot(1,3,1)
df["Latitude"].plot.hist(bins=20, density=True)
plt.subplot(1,3,2)
df["Longitude"].plot.hist(bins=20, density=True)
plt.subplot(1,3,3)
df["Depth(km)"].plot.hist(bins=50, density=True)</preformat>
          <boxed-text>
            <graphic mimetype="image" mime-subtype="png" xlink:href="data-screening_files/figure-jats/cell-7-output-1.png"/>
          </boxed-text>
        </sec>
        <sec id="da7ad095-nb-1" specific-use="notebook-content">
</sec>
        <sec id="spatial-plot-nb-1">
          <title>Spatial Plot</title>
          <p>Scatter plot the spatial locations of events</p>
        </sec>
        <sec id="cell-fig-spatial-plot-nb-1" specific-use="notebook-content">
          <preformat>#| label: fig-spatial-plot
#| fig-cap: Locations of earthquakes on La Palma since 2017.
#| fig-alt: A scatterplot of earthquake locations plotting latitude against longitude.
from matplotlib import colormaps
cmap = colormaps['viridis_r']
ax = df.plot.scatter(x="Longitude", y="Latitude", 
                     s=47-df["Depth(km)"], c=df["Magnitude"], 
                     figsize=(12,10), grid="on", cmap=cmap)
colorbar = ax.collections[0].colorbar
colorbar.set_label("Magnitude")

plt.show()</preformat>
          <boxed-text>
            <fig id="fig-spatial-plot-nb-1">
              <caption>
                <p>Locations of earthquakes on La Palma since
      2017.</p>
              </caption>
              <graphic mimetype="image" mime-subtype="png" xlink:href="data-screening_files/figure-jats/fig-spatial-plot-output-1.png"/>
            </fig>
          </boxed-text>
        </sec>
        <sec id="cell-22ac5ce7-nb-1" specific-use="notebook-content">
          <sec id="timeline-plot-nb-1">
            <title>Timeline Plot</title>
            <p>Scatter plot the event time series and look for any quantization
    issues. Have times &amp; dates been loaded correctly?</p>
            <p>ax = df.plot.scatter(x=‘DateTime’, y=‘Depth(km)’, figsize=(20,8))
    ax.set_ylim(50,0);</p>
          </sec>
        </sec>
      </sec>
    </body>
    <back>
</back>
  </sub-article>
</article>
